# MYSQL核心技术总结

------

>   Mysql主要分为 **Server** 层和 **存储引擎** 两大块

- **Server层**
    - *连接器*

    建立管理连接，长连接默认8小时，占用内存多的查询建议调用后使用mysql_reset_connection（Mysql为编程语言提供的API，不是Sql）重置连接，连接池可以把短连接变成长连接。*短连接和长连接不是通过参数设置的*，他们是一种“行为”，比如连接完，执行一个查询，就断开，这是短连接；执行一个查询，不断开，下次查询还用这个连接，持续使用，就是长链接，**使用的方式决定了连接的类型**。

    缓存功能，以执行SQL和结果组成key-vlaue，涉及的表有更新缓存便失效，不建议使用，8.0以后完全废除。
    可以将参数 query_cache_type 设置成 DEMAND，这样对于默认的 SQL 语句都不使用查询缓存，然后对于需要的SQL（比如**静态表**）可以主动指定：
    ```
      mysql> select SQL_CACHE * from T where ID=10；
    ```
    - 分析器
    
    - 优化器
    - 执行器
