# MYSQL核心技术总结


> Mysql  **join优化**

- 因为大多数的数据都是按照主键递增顺序插入得到的，所以我们可以认为，如果按照主键的递增顺序查询的话，**对磁盘的读比较接近顺序读** ，能够提升读性能。

- 我们可以考虑使用 **临时表** 。使用临时表的大致思路是：
  1. 把表 t2 中满足条件的数据放在临时表 tmp_t 中；
  2. 为了让 join 使用 BKA 算法，给临时表 tmp_t 的字段 b 加上索引；
  3. 让表 t1 和 tmp_t 做 join 操作。


- 我们可以自己实现在 **业务端优化** 。实现流程大致如下：
  1. select * from t1;取得表 t1 的全部 1000 行数据，在业务端存入一个 hash 结构，比如 C++ 里的 set、PHP 的数组这样的数据结构。select * from t2 where b>=1 and b<=2000;
  2. 获取表 t2 中满足条件的 2000 行数据。把这 2000 行数据，一行一行地取到业务端，到 hash 结构的数据表中寻找匹配的数据。
  3. 满足匹配的条件的这行数据，就作为结果集的一行。
